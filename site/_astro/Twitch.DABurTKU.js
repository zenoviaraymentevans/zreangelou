import{r as g,R as f}from"./index.DddtCxX5.js";import{r as D,h as l,i as v,g as I,p as T,c as C,b as w}from"./Player._u6h4luJ.js";import"./jsx-runtime.CIMolHGP.js";import"./index.DpKhS-qi.js";/* empty css                       */import"./index.B0vZmPab.js";import"./index.Py3gQaBW.js";import"./index.DtUZoKqR.js";import"./index.Dp8Bw2RJ.js";import"./store.aycOQVLs.js";import"./index.bM7OrN6I.js";import"./player.CKjfIk3N.js";var N=Object.defineProperty,R=(s,t,e)=>t in s?N(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,r=(s,t,e)=>(R(s,typeof t!="symbol"?t+"":t,e),e);const S="https://player.twitch.tv/js/embed/v1.js",A="Twitch",M="twitch-player-";class o extends g.Component{constructor(){super(...arguments),r(this,"callPlayer",C),r(this,"playerID",this.props.config.playerId||`${M}${D()}`),r(this,"mute",()=>{this.callPlayer("setMuted",!0)}),r(this,"unmute",()=>{this.callPlayer("setMuted",!1)})}componentDidMount(){this.props.onMount&&this.props.onMount(this)}load(t,e){const{playsinline:p,onError:h,config:d,controls:c}=this.props,a=l.test(t),i=a?t.match(l)[1]:t.match(v)[1];if(e){a?this.player.setChannel(i):this.player.setVideo("v"+i);return}I(S,A).then(n=>{this.player=new n.Player(this.playerID,{video:a?"":i,channel:a?i:"",height:"100%",width:"100%",playsinline:p,autoplay:this.props.playing,muted:this.props.muted,controls:a?!0:c,time:T(t),...d.options});const{READY:y,PLAYING:u,PAUSE:m,ENDED:E,ONLINE:P,OFFLINE:L,SEEK:_}=n.Player;this.player.addEventListener(y,this.props.onReady),this.player.addEventListener(u,this.props.onPlay),this.player.addEventListener(m,this.props.onPause),this.player.addEventListener(E,this.props.onEnded),this.player.addEventListener(_,this.props.onSeek),this.player.addEventListener(P,this.props.onLoaded),this.player.addEventListener(L,this.props.onLoaded)},h)}play(){this.callPlayer("play")}pause(){this.callPlayer("pause")}stop(){this.callPlayer("pause")}seekTo(t,e=!0){this.callPlayer("seek",t),e||this.pause()}setVolume(t){this.callPlayer("setVolume",t)}getDuration(){return this.callPlayer("getDuration")}getCurrentTime(){return this.callPlayer("getCurrentTime")}getSecondsLoaded(){return null}render(){const t={width:"100%",height:"100%"};return f.createElement("div",{style:t,id:this.playerID})}}r(o,"displayName","Twitch");r(o,"canPlay",w.twitch);r(o,"loopOnEnded",!0);export{o as default};
