import{r as l}from"./index.DddtCxX5.js";import{s as a,o as p}from"./use-sync-refs.CdR1_aZG.js";import{p as m}from"./use-disposables.CSnXTm91.js";function g(t){return a.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}function h(t){let e=t.width/2,r=t.height/2;return{top:t.clientY-r,right:t.clientX+e,bottom:t.clientY+r,left:t.clientX-e}}function w(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function b({disabled:t=!1}={}){let e=l.useRef(null),[r,i]=l.useState(!1),n=m(),o=p(()=>{e.current=null,i(!1),n.dispose()}),s=p(c=>{if(n.dispose(),e.current===null){e.current=c.currentTarget,i(!0);{let u=g(c.currentTarget);n.addEventListener(u,"pointerup",o,!1),n.addEventListener(u,"pointermove",d=>{if(e.current){let f=h(d);i(w(f,e.current.getBoundingClientRect()))}},!1),n.addEventListener(u,"pointercancel",o,!1)}}});return{pressed:r,pressProps:t?{}:{onPointerDown:s,onPointerUp:o,onClick:o}}}export{g as u,b as w};
