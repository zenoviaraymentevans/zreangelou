import{R as y,r as i}from"./index.DddtCxX5.js";import{o as B,W as V,y as _,n as G,H as R}from"./use-sync-refs.CdR1_aZG.js";const U=typeof document<"u"?y.useLayoutEffect:()=>{};function oe(t){const n=i.useRef(null);return U(()=>{n.current=t},[t]),i.useCallback((...e)=>{const r=n.current;return r?.(...e)},[])}const T=t=>{var n;return(n=t?.ownerDocument)!==null&&n!==void 0?n:document},E=t=>t&&"window"in t&&t.window===t?t:T(t).defaultView||window;function ie(t){var n;return typeof window>"u"||window.navigator==null?!1:((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.brands.some(e=>t.test(e.brand)))||t.test(window.navigator.userAgent)}function ue(t){var n;return typeof window<"u"&&window.navigator!=null?t.test(((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.platform)||window.navigator.platform):!1}function N(t){let n=null;return()=>(n==null&&(n=t()),n)}const ae=N(function(){return ue(/^Mac/i)}),se=N(function(){return ie(/Android/i)});function le(t){return t.mozInputSource===0&&t.isTrusted?!0:se()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}class ce{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(n,e){this.nativeEvent=e,this.target=e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget,this.bubbles=e.bubbles,this.cancelable=e.cancelable,this.defaultPrevented=e.defaultPrevented,this.eventPhase=e.eventPhase,this.isTrusted=e.isTrusted,this.timeStamp=e.timeStamp,this.type=n}}function Y(t){let n=i.useRef({isFocused:!1,observer:null});U(()=>{const r=n.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let e=oe(r=>{t?.(r)});return i.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){n.current.isFocused=!0;let o=r.target,a=s=>{n.current.isFocused=!1,o.disabled&&e(new ce("blur",s)),n.current.observer&&(n.current.observer.disconnect(),n.current.observer=null)};o.addEventListener("focusout",a,{once:!0}),n.current.observer=new MutationObserver(()=>{if(n.current.isFocused&&o.disabled){var s;(s=n.current.observer)===null||s===void 0||s.disconnect();let u=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),n.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[e])}function de(t){let{isDisabled:n,onFocus:e,onBlur:r,onFocusChange:o}=t;const a=i.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),o&&o(!1),!0},[r,o]),s=Y(a),u=i.useCallback(l=>{const d=T(l.target);l.target===l.currentTarget&&d.activeElement===l.target&&(e&&e(l),o&&o(!0),s(l))},[o,e,s]);return{focusProps:{onFocus:!n&&(e||o||r)?u:void 0,onBlur:!n&&(r||o)?a:void 0}}}let L=null,S=new Set,w=new Map,h=!1,D=!1;const fe={Tab:!0,Escape:!0};function A(t,n){for(let e of S)e(t,n)}function ve(t){return!(t.metaKey||!ae()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function F(t){h=!0,ve(t)&&(L="keyboard",A("keyboard",t))}function v(t){L="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(h=!0,A("pointer",t))}function z(t){le(t)&&(h=!0,L="virtual")}function q(t){t.target===window||t.target===document||(!h&&!D&&(L="virtual",A("virtual",t)),h=!1,D=!1)}function J(){h=!1,D=!0}function I(t){if(typeof window>"u"||w.get(E(t)))return;const n=E(t),e=T(t);let r=n.HTMLElement.prototype.focus;n.HTMLElement.prototype.focus=function(){h=!0,r.apply(this,arguments)},e.addEventListener("keydown",F,!0),e.addEventListener("keyup",F,!0),e.addEventListener("click",z,!0),n.addEventListener("focus",q,!0),n.addEventListener("blur",J,!1),typeof PointerEvent<"u"?(e.addEventListener("pointerdown",v,!0),e.addEventListener("pointermove",v,!0),e.addEventListener("pointerup",v,!0)):(e.addEventListener("mousedown",v,!0),e.addEventListener("mousemove",v,!0),e.addEventListener("mouseup",v,!0)),n.addEventListener("beforeunload",()=>{Q(t)},{once:!0}),w.set(n,{focus:r})}const Q=(t,n)=>{const e=E(t),r=T(t);n&&r.removeEventListener("DOMContentLoaded",n),w.has(e)&&(e.HTMLElement.prototype.focus=w.get(e).focus,r.removeEventListener("keydown",F,!0),r.removeEventListener("keyup",F,!0),r.removeEventListener("click",z,!0),e.removeEventListener("focus",q,!0),e.removeEventListener("blur",J,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",v,!0),r.removeEventListener("pointermove",v,!0),r.removeEventListener("pointerup",v,!0)):(r.removeEventListener("mousedown",v,!0),r.removeEventListener("mousemove",v,!0),r.removeEventListener("mouseup",v,!0)),w.delete(e))};function pe(t){const n=T(t);let e;return n.readyState!=="loading"?I(t):(e=()=>{I(t)},n.addEventListener("DOMContentLoaded",e)),()=>Q(t,e)}typeof document<"u"&&pe();function X(){return L!=="pointer"}const be=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $e(t,n,e){var r;const o=typeof window<"u"?E(e?.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?E(e?.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?E(e?.target).HTMLElement:HTMLElement,u=typeof window<"u"?E(e?.target).KeyboardEvent:KeyboardEvent;return t=t||e?.target instanceof o&&!be.has(e==null||(r=e.target)===null||r===void 0?void 0:r.type)||e?.target instanceof a||e?.target instanceof s&&e?.target.isContentEditable,!(t&&n==="keyboard"&&e instanceof u&&!fe[e.key])}function ge(t,n,e){I(),i.useEffect(()=>{let r=(o,a)=>{$e(!!e?.isTextInput,o,a)&&t(X())};return S.add(r),()=>{S.delete(r)}},n)}function me(t){let{isDisabled:n,onBlurWithin:e,onFocusWithin:r,onFocusWithinChange:o}=t,a=i.useRef({isFocusWithin:!1}),s=i.useCallback(d=>{a.current.isFocusWithin&&!d.currentTarget.contains(d.relatedTarget)&&(a.current.isFocusWithin=!1,e&&e(d),o&&o(!1))},[e,o,a]),u=Y(s),l=i.useCallback(d=>{!a.current.isFocusWithin&&document.activeElement===d.target&&(r&&r(d),o&&o(!0),a.current.isFocusWithin=!0,u(d))},[r,o,u]);return n?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:s}}}let C=!1,k=0;function W(){C=!0,setTimeout(()=>{C=!1},50)}function j(t){t.pointerType==="touch"&&W()}function Ee(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",j):document.addEventListener("touchend",W),k++,()=>{k--,!(k>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",j):document.removeEventListener("touchend",W))}}function Me(t){let{onHoverStart:n,onHoverChange:e,onHoverEnd:r,isDisabled:o}=t,[a,s]=i.useState(!1),u=i.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;i.useEffect(Ee,[]);let{hoverProps:l,triggerHoverEnd:d}=i.useMemo(()=>{let f=(c,m)=>{if(u.pointerType=m,o||m==="touch"||u.isHovered||!c.currentTarget.contains(c.target))return;u.isHovered=!0;let g=c.currentTarget;u.target=g,n&&n({type:"hoverstart",target:g,pointerType:m}),e&&e(!0),s(!0)},b=(c,m)=>{if(u.pointerType="",u.target=null,m==="touch"||!u.isHovered)return;u.isHovered=!1;let g=c.currentTarget;r&&r({type:"hoverend",target:g,pointerType:m}),e&&e(!1),s(!1)},$={};return typeof PointerEvent<"u"?($.onPointerEnter=c=>{C&&c.pointerType==="mouse"||f(c,c.pointerType)},$.onPointerLeave=c=>{!o&&c.currentTarget.contains(c.target)&&b(c,c.pointerType)}):($.onTouchStart=()=>{u.ignoreEmulatedMouseEvents=!0},$.onMouseEnter=c=>{!u.ignoreEmulatedMouseEvents&&!C&&f(c,"mouse"),u.ignoreEmulatedMouseEvents=!1},$.onMouseLeave=c=>{!o&&c.currentTarget.contains(c.target)&&b(c,"mouse")}),{hoverProps:$,triggerHoverEnd:b}},[n,e,r,o,u]);return i.useEffect(()=>{o&&d({currentTarget:u.target},u.pointerType)},[o]),{hoverProps:l,isHovered:a}}function ke(t={}){let{autoFocus:n=!1,isTextInput:e,within:r}=t,o=i.useRef({isFocused:!1,isFocusVisible:n||X()}),[a,s]=i.useState(!1),[u,l]=i.useState(()=>o.current.isFocused&&o.current.isFocusVisible),d=i.useCallback(()=>l(o.current.isFocused&&o.current.isFocusVisible),[]),f=i.useCallback(c=>{o.current.isFocused=c,s(c),d()},[d]);ge(c=>{o.current.isFocusVisible=c,d()},[],{isTextInput:e});let{focusProps:b}=de({isDisabled:r,onFocusChange:f}),{focusWithinProps:$}=me({isDisabled:!r,onFocusWithinChange:f});return{isFocused:a,isFocusVisible:u,focusProps:r?$:b}}let Z=i.createContext(void 0);function ee(){return i.useContext(Z)}function Se({value:t,children:n}){return y.createElement(Z.Provider,{value:t},n)}let te=i.createContext(void 0);function he(){return i.useContext(te)}function De({id:t,children:n}){return y.createElement(te.Provider,{value:t},n)}let P=i.createContext(null);P.displayName="DescriptionContext";function ne(){let t=i.useContext(P);if(t===null){let n=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,ne),n}return t}function Ie(){var t,n;return(n=(t=i.useContext(P))==null?void 0:t.value)!=null?n:void 0}function We(){let[t,n]=i.useState([]);return[t.length>0?t.join(" "):void 0,i.useMemo(()=>function(e){let r=B(a=>(n(s=>[...s,a]),()=>n(s=>{let u=s.slice(),l=u.indexOf(a);return l!==-1&&u.splice(l,1),u}))),o=i.useMemo(()=>({register:r,slot:e.slot,name:e.name,props:e.props,value:e.value}),[r,e.slot,e.name,e.props,e.value]);return y.createElement(P.Provider,{value:o},e.children)},[n])]}let we="p";function ye(t,n){let e=i.useId(),r=ee(),{id:o=`headlessui-description-${e}`,...a}=t,s=ne(),u=_(n);G(()=>s.register(o),[o,s.register]);let l=r||!1,d=i.useMemo(()=>({...s.slot,disabled:l}),[s.slot,l]),f={ref:u,...s.props,id:o};return R({ourProps:f,theirProps:a,slot:d,defaultTag:we,name:s.name||"Description"})}let Te=V(ye),Be=Object.assign(Te,{}),x=i.createContext(null);x.displayName="LabelContext";function re(){let t=i.useContext(x);if(t===null){let n=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,re),n}return t}function Le(t){var n,e,r;let o=(e=(n=i.useContext(x))==null?void 0:n.value)!=null?e:void 0;return((r=void 0)!=null?r:0)>0?[o,...t].filter(Boolean).join(" "):o}function Ae({inherit:t=!1}={}){let n=Le(),[e,r]=i.useState([]),o=t?[n,...e].filter(Boolean):e;return[o.length>0?o.join(" "):void 0,i.useMemo(()=>function(a){let s=B(l=>(r(d=>[...d,l]),()=>r(d=>{let f=d.slice(),b=f.indexOf(l);return b!==-1&&f.splice(b,1),f}))),u=i.useMemo(()=>({register:s,slot:a.slot,name:a.name,props:a.props,value:a.value}),[s,a.slot,a.name,a.props,a.value]);return y.createElement(x.Provider,{value:u},a.children)},[r])]}let Fe="label";function Ce(t,n){var e;let r=i.useId(),o=re(),a=he(),s=ee(),{id:u=`headlessui-label-${r}`,htmlFor:l=a??((e=o.props)==null?void 0:e.htmlFor),passive:d=!1,...f}=t,b=_(n);G(()=>o.register(u),[u,o.register]);let $=B(H=>{let M=H.currentTarget;if(M instanceof HTMLLabelElement&&H.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(H),M instanceof HTMLLabelElement){let p=document.getElementById(M.htmlFor);if(p){let O=p.getAttribute("disabled");if(O==="true"||O==="")return;let K=p.getAttribute("aria-disabled");if(K==="true"||K==="")return;(p instanceof HTMLInputElement&&(p.type==="radio"||p.type==="checkbox")||p.role==="radio"||p.role==="checkbox"||p.role==="switch")&&p.click(),p.focus({preventScroll:!0})}}}),c=s||!1,m=i.useMemo(()=>({...o.slot,disabled:c}),[o.slot,c]),g={ref:b,...o.props,id:u,htmlFor:l,onClick:$};return d&&("onClick"in g&&(delete g.htmlFor,delete g.onClick),"onClick"in f&&delete f.onClick),R({ourProps:g,theirProps:f,slot:m,defaultTag:l?Fe:"div",name:o.name||"Label"})}let Pe=V(Ce),Oe=Object.assign(Pe,{});export{ke as $,Ie as G,Le as I,Oe as K,We as U,ee as a,Me as b,De as f,Se as l,he as u,Be as w,Ae as z};
